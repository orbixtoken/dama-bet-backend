# =========================
# ========== APP ==========
# =========================
NODE_ENV=development
PORT=3001

# Se estiver atrás de proxy (NGINX/Heroku/Render), habilite para IP real/cookies:
TRUST_PROXY=0

# CORS: pode ser uma lista separada por vírgulas
# Ex.: http://localhost:5173,https://admin.suaapp.com
CORS_ORIGIN=http://localhost:5173

# Swagger UI
SWAGGER_ENABLED=true
SWAGGER_SERVER_URL=http://localhost:3001


# ======================================
# ========== DATABASE (PostgreSQL) =====
# ======================================

# Opção A) DSN único (recomendado em produção):
# DATABASE_URL=postgres://postgres:postgres@localhost:5432/arguz_bets

# Opção B) Campos separados (mantidos por compatibilidade):
DB_HOST=localhost
DB_PORT=5432
DB_USER=postgres
DB_PASSWORD=123456
DB_NAME=damabet

# SSL (providers gerenciados como Render/Railway):
# DB_SSL=true
# DB_SSL_REJECT_UNAUTHORIZED=false


# ==================================
# ========== JWT / TOKENS ==========
# ==================================

# Access token (curta duração, Authorization: Bearer)
JWT_SECRET=troque-este-segredo-muito-bem
JWT_EXPIRES_IN=15m

# Refresh token (longa duração, rotacionado e guardado com hash)
# Se não setar, tokenUtils pode derivar de JWT_SECRET (mas recomenda-se definir)
JWT_REFRESH_SECRET=troque-este-outro-segredo-bem-forte
JWT_REFRESH_EXPIRES_IN=7d


# ==============================
# ========== BCRYPT ============
# ==============================
# Se não informado, use 10
BCRYPT_SALT_ROUNDS=10


# ======================================
# ========== RATE LIMIT (API) ==========
# ======================================
# Valores padrão podem existir no código; estes permitem override por ENV

# /api/auth/*
LOGIN_MAX_ATTEMPTS=5
LOGIN_WINDOW_MINUTES=15

# /api/reset-senha/*
RESET_MAX_ATTEMPTS=3
RESET_WINDOW_MINUTES=60

# (Opcional) Limites globais por grupo (se você ligar no app.js)
# GAMES_RATE_LIMIT_PER_MIN=300
# MONEY_RATE_LIMIT_PER_10MIN=120


# ======================================
# ========== LOGS / DEBUG ==============
# ======================================
# Mostra queries SQL no console caso implementado no db.js
DEBUG_SQL=false

# Nível de log (se você plugar pino/winston)
# LOG_LEVEL=info


# ======================================
# ========== PSP / WEBHOOK =============
# ======================================
# Usado para validar a assinatura do webhook de pagamentos (PIX/cartão/boleto)
# O header usado no exemplo é x-psp-signature (HMAC-SHA256 do body com este segredo)
PSP_WEBHOOK_SECRET=dev-psp-secret

# (Opcional) URLs de callback do seu PSP sandbox, se precisar montar labels/links
# PSP_DASHBOARD_URL=https://psp-sandbox.example.com


# =================================================
# ========== FEATURE FLAGS (opcional) =============
# =================================================
# Ativa/desativa jogos (útil em produção sem redeploy)
# FEATURE_CASINO_SLOTS_COMMON=1
# FEATURE_CASINO_SLOTS_PREMIUM=1

# Ativa/desativa endpoints admin de sports (mantém segurança de roles)
# FEATURE_SPORTS_ADMIN=1
